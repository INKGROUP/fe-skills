<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>   
</head>

<body>
    <script>
    let arr = [1,2,[1,3,5],[10,3,5,[1,9,20]]];
    
    //扁平
    function flattenDeep(arr) {
        return arr.reduce((acc, val) => Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);
    }

    //去重
    function unique(arr){
        return [...new Set(arr)];
     }
    //排序
    const arrSort = (a,b) => a-b;       

    
    let flattenArr = flattenDeep( arr );
    let uniqueArr = unique( flattenArr );
    let sortArr = uniqueArr.sort(arrSort);




    // Array.prototype.flat= function() {       
    //     return [].concat(...this.map(item => (Array.isArray(item) ? item.flat() : [item])));
    // }


    // Array.prototype.unique = function(){
    //     return [...new Set(this)]
    // }

    // let result = arr.flat().unique().sort(arrSort)


    </script>
</body>

</html>
